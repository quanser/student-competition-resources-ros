<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Virtual Stage ROS Software Setup</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="color-scheme" content="light dark">
        <link rel="stylesheet" href="../../../pages/assets/style.css">
    </head>
    <body>
        <header class="site-header">
            <div class="header-inner">
                <div class="header-left">
                    
                </div>

                <div class="header-middle">
                    <h1>Quanser Student Competitions</h1>
                </div>

                <div class="header-right">
                    <img src="../../../pages/assets/logos/full colour_dark background_tagline.png" alt="Quanser Student Competitions logo" class="site-logo">
                </div>
            </div>
            <div class="header-banner">
                <img src="../../../pages/assets/banners/quanser_banner.jpg" alt="Competition banner" class="header-banner-img">
            </div>
        </header>

        <main class="content">
            <h1 id="virtual-stage-ros-software-setup">Virtual Stage ROS Software Setup <!-- omit in toc --></h1>
<p>Please go through the following steps to set up a computer with the Quanser Virtual Development Environment.</p>
<h2 id="description">Description <!-- omit in toc --></h2>
<p>This document describes:</p>
<ul>
<li><a href="#system-requirements">System Requirements</a></li>
<li><a href="#how-to-set-up-the-quanser-virtual-environment-docker-container">How to Set Up the Quanser Virtual Environment Docker Container</a></li>
<li><a href="#set-up-the-development-docker-container">Set Up the Development Docker Container</a></li>
<li><a href="#how-to-run-the-ros2-humble-nodes">How to Run the ROS2 Humble Nodes</a></li>
</ul>
<p>By the end of this document, you will have a Quanser Virtual Environment Docker Container that can be used to spawn the QCar 2 in QLabs. You will have a Development Docker Container where you will develop your code and run the ROS2 nodes. And, you will have QLabs installed. The configuration will look like this:</p>
<p><img alt="QLabsDevelopmentVennDiagram" src="../Pictures/DevelopmentVennDiagram.png"/></p>
<h2 id="system-requirements">System Requirements</h2>
<p><code>Linux System base requirements:</code></p>
<ul>
<li>Ubuntu 24.04 LTS</li>
<li><strong>Nvidia Based GPU</strong></li>
</ul>
<p><code>Recommended Hardware:</code></p>
<ul>
<li>Graphics Card: 4050m or equivalent</li>
<li>Processor: i5-13500HX or equivalent</li>
<li>Memory: 16 GB RAM</li>
</ul>
<p>Please follow this guide to correctly setup Docker engine on your ground station PC: \
<a href="https://docs.docker.com/engine/install/ubuntu/">Docker Installation Instructions</a></p>
<p>Download and set up the Docker Container Resources:</p>
<ol>
<li>
<p>Download <code>setup_linux.py</code> manually from here: <a href="/Virtual_ROS_Resources/env_setup/setup_linux.py">setup_linux.py</a></p>
<p><img alt="manually downloading file" src="../Pictures/github_manually_downloading_file.png"/></p>
</li>
<li>
<p>Run <code>setup_linux.py</code></p>
</li>
</ol>
<p>Your system should look like this after running <code>setup_linux.py</code>:</p>
<pre><code class="language-bash">/home/$USER/Documents/ACC_Development/ 
                        L backup/
                        L Development/
                        L docker/
                        L isaac_ros_common/
</code></pre>
<h2 id="how-to-set-up-the-quanser-virtual-environment-docker-container">How to Set Up the Quanser Virtual Environment Docker Container</h2>
<p>The purpose of this docker container is to ensure safe setup of the Quanser Interactive Labs virtual environment. The below instructions go over how to set this Docker container up.</p>
<ol>
<li>
<p>Download the latest debian packages (only need to do once):</p>
<p><code>bash
wget --no-cache https://repo.quanser.com/debian/release/config/configure_repo.sh
chmod u+x configure_repo.sh
./configure_repo.sh
rm -f ./configure_repo.sh
sudo apt update</code></p>
</li>
<li>
<p>Install QLabs, Quanser Python APIs, and QUARC runtime:</p>
<p><code>bash
sudo apt-get install qlabs-unreal python3-quanser-apis  quarc-runtime</code></p>
</li>
<li>
<p>Ensure you have <a href="https://quanser.github.io/student-competitions/">registered for your competition</a> (Necessary for gaining access to QLabs). This could take a few days.</p>
</li>
<li>
<p>Register an account in the <a href="https://portal.quanser.com/Accounts/Register">Quanser Academic Portal</a> to obtain access for Quanser Interactive Labs.</p>
</li>
<li>
<p>To setup Quanser's custom python docker navigate to the folder:</p>
<p><code>bash
cd /home/$USER/Documents/ACC_Development/docker/development_docker/quanser_dev_docker_files</code></p>
<p>And run the following command:</p>
<p><code>bash
sudo docker run --rm -it --network host --name virtual-qcar2 quanser/virtual-qcar2 bash</code></p>
<p>This docker container will include the following setup scripts:</p>
<p><code>bash
/home/qcar2_scripts/python 
                        L Base_Scenarios_Python/</code></p>
</li>
<li>
<p><strong>To open additional terminals attached to the docker container</strong>, run the following command in a new terminal:</p>
<p><code>bash
docker exec -it virtual-qcar2 bash</code></p>
</li>
</ol>
<p><strong>To pull the most recent version of the Docker container (after you go through the below steps first) from Dockerhub use the following command:</strong></p>
<pre><code class="language-bash">docker pull quanser/virtual-qcar2:latest
</code></pre>
<h2 id="set-up-the-development-docker-container">Set Up the Development Docker Container</h2>
<p>For software development we will leverage the isaac_ros docker container. This container can be used for:</p>
<ul>
<li>Python only work (Not using ROS)</li>
<li>ROS focused solutions (Using either python/C++ to write ROS nodes)</li>
</ul>
<p>The below instructions show you how to set up the <strong>Development Docker Container</strong>.</p>
<ol>
<li>
<p>To get started please install <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#installing-the-nvidia-container-toolkit">Nvidia-Container-toolkit</a></p>
<p><strong><em>NOTE:</em></strong>  If you're not sure what method to use, scroll to the top of the page and follow the With apt: Ubuntu, Debian' section. You will not need to configure the repository to use experimental packages. Then make sure you <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#configuring-docker">configure docker</a>.</p>
</li>
<li>
<p>Navigate to the following directory:</p>
<p><code>bash
cd /home/$USER/Documents/ACC_Development/isaac_ros_common</code></p>
</li>
<li>
<p>To start the container use the command</p>
<p><code>bash
./scripts/run_dev.sh  /home/$USER/Documents/ACC_Development/Development</code></p>
<p><strong><em>NOTE:</em></strong>  You may need to add your local user to the local Docker Group. Please restart your machine once your user has been added.</p>
</li>
<li>
<p><strong>To open additional terminals attached to the Development docker container</strong>, open a new terminal and run Steps 2 &amp; 3 again.</p>
</li>
</ol>
<h2 id="how-to-run-the-ros2-humble-nodes">How to Run the ROS2 Humble Nodes</h2>
<p>Once you are ready to start developing, follow these steps to start the virtual environment:</p>
<ol>
<li>
<p>Natively in Ubuntu, open the QLabs application and navigate to the SDCS then the Open Plane.</p>
</li>
<li>
<p>If you do not have a Quanser Virtual Environment Docker container open, follow the above sections to open one.</p>
</li>
<li>
<p>Using the Quanser Virtual Environment Docker container, navigate to the following directory:</p>
<p><code>bash
cd /home/qcar2_scripts/python</code></p>
</li>
<li>
<p>Run the following Python script to spawn the competition map into QLabs:</p>
<p><code>bash
python3 Base_Scenarios_Python/Setup_Competition_Map.py</code></p>
</li>
</ol>
<p>Once everything has run to completion, the QLabs world should look like the following:</p>
<p><img alt="QLabs after running Setup_Competition_Map.py" src="../Pictures/HowToStart.png"/></p>
<ol>
<li>
<p>If you do not have a Development Docker (Isaac-ROS) container open, follow the above section to open one. The following commands should be run in the Development container.</p>
</li>
<li>
<p>Compile the QCar2 ros nodes using:</p>
<p><code>bash
colcon build</code></p>
</li>
<li>
<p>Source the QCar2 packages using:</p>
<p><code>bash
. install/setup.bash</code></p>
</li>
<li>
<p>Launch the nodes for the QCar using the launch file configured for the virtual QCar:</p>
<p><code>bash
ros2 launch qcar2_nodes qcar2_virtual_launch.py</code></p>
</li>
</ol>
<p><strong>IMPORTANT:</strong> For tips and guides on how to develop in this container, visit the <a href="/Virtual_ROS_Resources/Virtual_ROS_Development_Guide.html">Virtual ROS Devlopment Guide</a>.</p>
        </main>

        <footer class="site-footer">
            <p>&copy; 2025 Quanser. All Rights Reserved. </p>
        </footer>
    </body>
</html>
